import{d as e,r,b as l,e as t,f as o}from"./vue-CtmyoV7S.js";import{t as a,u as i,V as n,q as s,M as m}from"./maptalks.es-DBJKwkJk.js";import{_ as p}from"./index-C2D-k0Kb.js";import"./common-DJbht5QT.js";import"./element-BF3D_0r8.js";const y={id:"map",ref:"mapRef",class:"content"};const f=p(e({__name:"App",setup(e,{expose:t}){t();const o=r();function p(){const e=["earth","landuse","water","roads","building"],r=new a("tile",{urlTemplate:"https://tile.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.json?api_key=mapzen-cGRKZj",attribution:'&copy; <a href="https://mapzen.com/" target="_blank">mapzen</a>'});r.drawTile=function(r,l,t){i.getJSON(l.url,(function(o,a){if(o)throw o;const i=[];let p=0;function y(){p++,p===i.length&&t(null)}const f={roads:[{filter:["==","kind","highway"],symbol:[{lineColor:"grey",lineWidth:7},{lineColor:"#cc6666",lineWidth:4}]},{filter:["==","kind","minor_road"],symbol:{lineColor:"lightgrey",lineWidth:3}},{filter:!0,symbol:{lineColor:"lightgrey",lineWidth:2}}],buildings:[{filter:!0,symbol:{lineColor:"#000",polygonFill:"#fff"}}],water:[{filter:["==","$type","Point"],symbol:{markerOpacity:0,markerType:"ellipse",markerFill:"#88bbee",markerWidth:4,markerHeight:4}},{filter:!0,symbol:{lineColor:"#88bbee",polygonFill:"#88bbee"}}],earth:[{filter:["==","$type","Point"],symbol:{markerOpacity:0,markerType:"ellipse",markerFill:"#ddeeee",markerWidth:4,markerHeight:4}},{filter:!0,symbol:{lineColor:"#ddeeee",polygonFill:"#ddeeee"}}],landuse:[{filter:["==","$type","Point"],symbol:{markerOpacity:0,markerType:"ellipse",markerFill:"#aaffaa",markerWidth:4,markerHeight:4}},{filter:!0,symbol:{lineColor:"#aaffaa",polygonFill:"#aaffaa"}}]};for(let r=0,l=e.length;r<l;r++){const l=e[r];if(!a[l])continue;const t=f[l];i.push(new n(l,s.toGeometry(a[l]),{style:t,enableSimplify:!1,geometryEvents:!1}).on("layerload",y))}new m(r,{center:l.center,zoom:l.z,layers:i})}))},new m(o.value,{center:[-122.12258202067433,38.080679835385574],zoom:9,centerCross:!0,baseLayer:r})}l((()=>{p()}));const y={mapRef:o,initMap:p};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),[["render",function(e,r,l,a,i,n){return t(),o("div",y,null,512)}],["__file","/home/runner/work/mtk-playground/mtk-playground/.playgrounds/basic/layer/canvastilelayer/src/App.vue"]]);export{f as default};
