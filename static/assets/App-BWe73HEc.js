import{d as e,r as t,b as r,z as n,e as o,f as a}from"./vue-Dk88WT-Z.js";import{T as s,M as i}from"./maptalks.es-7YTiJo2Q.js";import{_ as c}from"./index-r5JEVMmp.js";import"./common-DJbht5QT.js";import"./element-CcAO_LfK.js";const l={id:"map",ref:"mapRef",class:"content"};const p=c(e({__name:"App",setup(e,{expose:o}){o();const a=t();function c(){const e=new s("base",{urlTemplate:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"],attribution:"&copy; <a href='http://osm.org'>OpenStreetMap</a> contributors, &copy; <a href='https://carto.com/'>CARTO</a>"});let t;e.getTileUrl=function(e,t,r){return s.prototype.getTileUrl.call(this,e,t,r)},e.on("renderercreate",(e=>{e.renderer.loadTileImage=(e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){const r=function(e){const r=function(){if(t)return t;return t=document.createElement("canvas"),t}();r.width=e.width,r.height=e.height;const n=r.getContext("2d");n.clearRect(0,0,r.width,r.height),n.drawImage(e,0,0),n.save(),n.filter="sepia(100%) invert(90%)",n.drawImage(e,0,0),n.restore(),n.fillStyle="white",n.font="20px serif",n.textAlign="center",n.fillText("hello maptalks",r.width/2,r.height/2),n.strokeStyle="white",n.lineWidth=.1,n.rect(0,0,r.width,r.height),n.stroke();return r.toDataURL("image/jpg",.7)}(n);e.src=r},n.src=r}}));const r=new i(a.value,{center:[-.113049,51.498568],zoom:11,baseLayer:e});return()=>{r.remove()}}r((()=>{const e=c();n((()=>{e()}))}));const l={mapRef:a,initMap:c};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),[["render",function(e,t,r,n,s,i){return o(),a("div",l,null,512)}],["__file","/home/runner/work/mtk-playground/mtk-playground/.playgrounds/basic/tilelayer-projection/tile-image-custom/src/App.vue"]]);export{p as default};
